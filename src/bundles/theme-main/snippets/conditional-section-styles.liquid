{%- comment -%}
  Conditional Section Asset Loading
  Simplified approach using template detection only
  - Index: Load all regular sections (exclude page-specific)
  - Other templates: Load only page-specific sections
{%- endcomment -%}

{%- comment -%} Cache-busting for development {%- endcomment -%}
{% if shop.domain contains 'myshopify.com' or request.host contains '127.0.0.1' or request.host contains 'localhost' %}
  {% assign cache_buster = 'now' | date: '%s' %}
{% endif %}

{% if template contains 'index' %}
  {%- comment -%} Index Page: Load all regular section assets {%- endcomment -%}
  {% if shop.domain contains 'myshopify.com' or request.host contains '127.0.0.1' or request.host contains 'localhost' %}
    {{ 'section-big-heading.css' | asset_url | append: '?v=' | append: cache_buster | stylesheet_tag }}
    {{ 'section-showcase.css' | asset_url | append: '?v=' | append: cache_buster | stylesheet_tag }}
    {{ 'section-image-slider.css' | asset_url | append: '?v=' | append: cache_buster | stylesheet_tag }}
    {{ 'section-image-menu.css' | asset_url | append: '?v=' | append: cache_buster | stylesheet_tag }}
  {% else %}
    {{ 'section-big-heading.css' | asset_url | stylesheet_tag }}
    {{ 'section-showcase.css' | asset_url | stylesheet_tag }}
    {{ 'section-image-slider.css' | asset_url | stylesheet_tag }}
    {{ 'section-image-menu.css' | asset_url | stylesheet_tag }}
  {% endif %}

{% elsif template contains 'product' %}
  {%- comment -%} Product Page: Load page-specific product assets {%- endcomment -%}
  {% if shop.domain contains 'myshopify.com' or request.host contains '127.0.0.1' or request.host contains 'localhost' %}
    {{ 'section-page-product.css' | asset_url | append: '?v=' | append: cache_buster | stylesheet_tag }}
  {% else %}
    {{ 'section-page-product.css' | asset_url | stylesheet_tag }}
  {% endif %}

{% elsif template contains 'collection' or template contains 'search' %}
  {%- comment -%} Collection & Search Pages: Load page-specific collection assets {%- endcomment -%}
  {% if shop.domain contains 'myshopify.com' or request.host contains '127.0.0.1' or request.host contains 'localhost' %}
    {{ 'section-page-collections.css' | asset_url | append: '?v=' | append: cache_buster | stylesheet_tag }}
    {{ 'section-image-menu.css' | asset_url | append: '?v=' | append: cache_buster | stylesheet_tag }}
  {% else %}
    {{ 'section-page-collections.css' | asset_url | stylesheet_tag }}
    {{ 'section-image-menu.css' | asset_url | stylesheet_tag }}
  {% endif %}

{% elsif template contains 'page' %}
  {%- comment -%} Other Pages: Load page-specific assets based on template suffix {%- endcomment -%}
  {% if template contains 'page.faq' %}
    {% if shop.domain contains 'myshopify.com' or request.host contains '127.0.0.1' or request.host contains 'localhost' %}
      {{ 'section-page-faq.css' | asset_url | append: '?v=' | append: cache_buster | stylesheet_tag }}
      {{ 'section-big-heading.css' | asset_url | append: '?v=' | append: cache_buster | stylesheet_tag }}
    {% else %}
      {{ 'section-page-faq.css' | asset_url | stylesheet_tag }}
      {{ 'section-big-heading.css' | asset_url | stylesheet_tag }}
    {% endif %}
  {% endif %}
  {% if template contains 'page.account' %}
    {% if shop.domain contains 'myshopify.com' or request.host contains '127.0.0.1' or request.host contains 'localhost' %}
      {{ 'section-page-account.css' | asset_url | append: '?v=' | append: cache_buster | stylesheet_tag }}
    {% else %}
      {{ 'section-page-account.css' | asset_url | stylesheet_tag }}
    {% endif %}
  {% endif %}
{% endif %}

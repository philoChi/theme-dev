{%- comment -%}
  Image Slider Slide Content
  Renders slide overlay content with semantic HTML and optimized CTA handling
{%- endcomment -%}

{%- liquid
  comment
    Count active CTAs for layout optimization
  endcomment
  assign active_cta_count = 0
  for i in (1..3)
    assign cta_text_key = 'cta_text_' | append: i
    if block.settings[cta_text_key] != blank
      assign active_cta_count = active_cta_count | plus: 1
    endif
  endfor
  
  comment
    Check if content exists to avoid empty containers
  endcomment
  assign has_title = false
  assign has_description = false
  assign has_ctas = false
  assign has_content = false
  
  if block.settings.title != blank
    assign has_title = true
  endif
  
  if block.settings.description != blank
    assign has_description = true
  endif
  
  if active_cta_count > 0
    assign has_ctas = true
  endif
  
  if has_title or has_description or has_ctas
    assign has_content = true
  endif
-%}

{%- if has_content -%}
  {%- comment -%} Slide content overlay with semantic structure {%- endcomment -%}
  <div class="image-slider__content" role="group" aria-label="Slide content">
    {%- if has_title or has_description -%}
      <header class="image-slider__header">
        {%- if has_title -%}
          <h2 class="image-slider__title">{{ block.settings.title | escape }}</h2>
        {%- endif -%}
        
        {%- if has_description -%}
          <p class="image-slider__description">{{ block.settings.description | escape }}</p>
        {%- endif -%}
      </header>
    {%- endif -%}

    {%- if has_ctas -%}
      {%- comment -%} CTA buttons section with accessible structure {%- endcomment -%}
      <footer class="image-slider__actions">
        <div class="image-slider__ctas" 
             style="--cta-count: {{ active_cta_count }}"
             role="group" 
             aria-label="Call to action buttons">
          {%- for i in (1..3) -%}
            {%- liquid
              assign cta_text_key = 'cta_text_' | append: i
              assign cta_link_key = 'cta_link_' | append: i
              assign cta_color_key = 'cta_color_' | append: i
              assign cta_text = block.settings[cta_text_key]
              assign cta_link = block.settings[cta_link_key]
              assign cta_color = block.settings[cta_color_key]
            -%}
            {%- if cta_text != blank -%}
              {%- render 'snippet-feature-button', 
                  button_text: cta_text, 
                  button_link: cta_link, 
                  size: 'medium',
                  aria_label: cta_text | append: ' - CTA ' | append: i -%}
            {%- endif -%}
          {%- endfor -%}
        </div>
      </footer>
    {%- endif -%}
  </div>
{%- endif -%}
